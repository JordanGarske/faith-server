import{w as S}from"./with-props-BhD4tHF7.js";import{r as a,l as t}from"./chunk-XJI4KG32-Cq5X3dzK.js";import{B as v}from"./Box-BzE_XOeT.js";import{T as i}from"./TextField-BWrHybeP.js";import{B as y}from"./Button-Cnz__5mg.js";import"./useSlot-D_iM7ehJ.js";import"./createSimplePaletteValueFilter-DGnNz9q7.js";import"./isFocusVisible-CqNmDtJi.js";import"./isHostComponent-0qkTbIj_.js";import"./utils-DP801Ijz.js";import"./assertThisInitialized-BjnbojEp.js";import"./index-CVTmJPMc.js";import"./isMuiElement-D8UOlcw4.js";function U({}){return[{title:"contact"},{name:"description",content:"email us"}]}const A=S(function(){const[m,l]=a.useState(""),[r,c]=a.useState(""),[p,d]=a.useState(""),[u,g]=a.useState(""),[s,n]=a.useState(""),[f,h]=a.useState(""),x=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),j=async e=>{if(e.preventDefault(),n(""),h(""),!r||!u){n("Email and message are required");return}if(!x(r)){n("Invalid email format");return}try{const o=await fetch("api/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:m,email:r,subject:p,message:u})}),b=await o.json();if(!o.ok)throw new Error(b.error||"Something went wrong");h(b.success||"Email sent successfully!"),l(""),c(""),d(""),g("")}catch(o){n(o.message)}};return t.jsxs(v,{component:"form",sx:{justifyContent:"center",p:10,m:10,mt:1,bgcolor:"background.paper",borderRadius:1},onSubmit:j,noValidate:!0,children:[t.jsx(i,{margin:"normal",fullWidth:!0,label:"your name",name:"name",autoComplete:"name",value:m,onChange:e=>l(e.target.value)}),t.jsx(i,{margin:"normal",required:!0,fullWidth:!0,label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:r,onChange:e=>c(e.target.value),error:!!s&&(!r||!x(r))}),t.jsx(i,{margin:"normal",required:!0,fullWidth:!0,label:"Subject",name:"subject",autoComplete:"subject",autoFocus:!0,value:p,onChange:e=>d(e.target.value),error:!!s,helperText:s}),t.jsx(i,{fullWidth:!0,label:"Message/Prayer Request:*",multiline:!0,maxRows:4,variant:"standard",value:u,onChange:e=>g(e.target.value)}),f&&t.jsx("p",{style:{color:"green"},children:f}),s&&t.jsx("p",{style:{color:"red"},children:s}),t.jsx(y,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Submit"})]})});export{A as default,U as meta};
