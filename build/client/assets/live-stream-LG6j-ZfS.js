import{w as g}from"./with-props-BfByCckp.js";import{r as u,t as v,l as n}from"./chunk-XJI4KG32-Dn2FA9HU.js";import{u as w}from"./Paper-BDXAnZUE.js";import{u as b,T as j,B as h}from"./Box-C0Y89kWi.js";import{g as S}from"./getThemeProps-BBjFt6Nq.js";import{a as E}from"./isFocusVisible-DLsYwwP9.js";import{T as f}from"./Typography-CQdP_qHB.js";import{B as C}from"./Button-DRTweoHF.js";import{L}from"./Link-C99Zo9bM.js";import{C as Q,a as k}from"./CardContent-BiGql7bv.js";import"./createSimplePaletteValueFilter-UGedLJK_.js";import"./assertThisInitialized-BjnbojEp.js";function M(o,a,t,s,d){const[e,l]=u.useState(()=>d&&t?t(o).matches:s?s(o).matches:a);return E(()=>{if(!t)return;const c=t(o),r=()=>{l(c.matches)};return r(),c.addEventListener("change",r),()=>{c.removeEventListener("change",r)}},[o,t]),e}const R={...v},x=R.useSyncExternalStore;function T(o,a,t,s,d){const e=u.useCallback(()=>a,[a]),l=u.useMemo(()=>{if(d&&t)return()=>t(o).matches;if(s!==null){const{matches:i}=s(o);return()=>i}return e},[e,o,s,d,t]),[c,r]=u.useMemo(()=>{if(t===null)return[e,()=>()=>{}];const i=t(o);return[()=>i.matches,p=>(i.addEventListener("change",p),()=>{i.removeEventListener("change",p)})]},[e,t,o]);return x(r,c,l)}function y(o={}){const{themeId:a}=o;return function(s,d={}){let e=b();e&&a&&(e=e[a]||e);const l=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:c=!1,matchMedia:r=l?window.matchMedia:null,ssrMatchMedia:m=null,noSsr:i=!1}=S({name:"MuiUseMediaQuery",props:d,theme:e});let p=typeof s=="function"?s(e):s;return p=p.replace(/^@media( ?)/m,""),p.includes("print")&&console.warn(["MUI: You have provided a `print` query to the `useMediaQuery` hook.","Using the print media query to modify print styles can lead to unexpected results.","Consider using the `displayPrint` field in the `sx` prop instead.","More information about `displayPrint` on our docs: https://mui.com/system/display/#display-in-print."].join(`
`)),(x!==void 0?T:M)(p,c,r,m,i)}}y();const D=y({themeId:j});function O({}){return[{title:"Live Stream"},{name:"description",content:"Watch live streams and past videos"}]}const z=g(function(){const[a,t]=u.useState([]),[s,d]=u.useState(!0),[e,l]=u.useState(null),c=w();return D(c.breakpoints.down("sm")),u.useEffect(()=>{(async()=>{try{const i=await(await fetch("/api/get/videos")).json();t(i),l(i[0])}catch(m){console.error("Error fetching videos:",m)}finally{d(!1)}})()},[]),s||!e?null:n.jsxs(h,{sx:{p:{xs:2,md:4}},children:[n.jsx(f,{variant:"h4",gutterBottom:!0,textAlign:"center",sx:{fontWeight:600},children:"Next Live Stream"}),n.jsx(h,{display:"flex",justifyContent:"center",mb:3,children:n.jsx(C,{variant:"contained",sx:{backgroundColor:"orange","&:hover":{backgroundColor:"darkorange"}},children:n.jsx(L,{href:"https://secure.myvanco.com/YKRK/home",color:"inherit",underline:"none",children:"Donate"})})}),n.jsxs(h,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:{xs:2,md:4}},children:[n.jsx(h,{sx:{flex:3,height:{xs:240,sm:320,md:500},borderRadius:2,overflow:"hidden"},children:n.jsx("iframe",{width:"100%",height:"100%",src:`https://www.youtube.com/embed/${e.id}`,title:"Live Stream",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",style:{border:0},allowFullScreen:!0})}),n.jsx(h,{sx:{flex:1,maxHeight:{xs:"none",md:250},overflowY:{xs:"visible",md:"auto"}},children:a.map((r,m)=>n.jsx(Q,{onClick:()=>l(r),sx:{mb:2,cursor:"pointer",border:e.id===r.id?"2px solid #1976d2":"1px solid #ccc",transition:"border 0.3s","&:hover":{borderColor:"#1976d2"}},children:n.jsxs(k,{sx:{p:1.5},children:[n.jsx(h,{sx:{position:"relative",width:"100%",aspectRatio:"1 / 1",overflow:"hidden",borderRadius:1.5},children:n.jsx("img",{src:r.url,alt:r.title,style:{width:"100%",height:"100%",objectFit:"cover",display:"block"}})}),n.jsx(f,{variant:"subtitle2",mt:1,sx:{fontWeight:500,lineHeight:1.3},children:r.title})]})},r.id||m))})]})]})});export{z as default,O as meta};
