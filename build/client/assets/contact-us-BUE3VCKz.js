import{w as S}from"./with-props-D6IowUu_.js";import{r as a,l as t}from"./chunk-XJI4KG32-Dmn1iqhE.js";import{B as v}from"./Box-CbkMP9ps.js";import{T as u}from"./TextField-Cyj5MloR.js";import{B as y}from"./Button-B5zhw822.js";import"./useSlot-CQUBaJCu.js";import"./Paper-CAJltBP2.js";import"./createSimplePaletteValueFilter-B_PxzCPc.js";import"./isHostComponent-fALf-5Rm.js";import"./assertThisInitialized-BjnbojEp.js";import"./index-CSNTZfnI.js";import"./isMuiElement-HV4Zcmjm.js";const O=S(function(){const[l,m]=a.useState(""),[r,c]=a.useState(""),[p,d]=a.useState(""),[i,g]=a.useState(""),[s,n]=a.useState(""),[f,h]=a.useState(""),x=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),j=async e=>{if(e.preventDefault(),n(""),h(""),!r||!i){n("Email and message are required");return}if(!x(r)){n("Invalid email format");return}try{const o=await fetch("api/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:l,email:r,subject:p,message:i})}),b=await o.json();if(!o.ok)throw new Error(b.error||"Something went wrong");h(b.success||"Email sent successfully!"),m(""),c(""),d(""),g("")}catch(o){n(o.message)}};return t.jsxs(v,{component:"form",sx:{justifyContent:"center",p:10,m:10,mt:1,bgcolor:"background.paper",borderRadius:1},onSubmit:j,noValidate:!0,children:[t.jsx(u,{margin:"normal",fullWidth:!0,label:"your name",name:"name",autoComplete:"name",value:l,onChange:e=>m(e.target.value)}),t.jsx(u,{margin:"normal",required:!0,fullWidth:!0,label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:r,onChange:e=>c(e.target.value),error:!!s&&(!r||!x(r))}),t.jsx(u,{margin:"normal",required:!0,fullWidth:!0,label:"Subject",name:"subject",autoComplete:"subject",autoFocus:!0,value:p,onChange:e=>d(e.target.value),error:!!s,helperText:s}),t.jsx(u,{fullWidth:!0,label:"Message/Prayer Request:*",multiline:!0,maxRows:4,variant:"standard",value:i,onChange:e=>g(e.target.value)}),f&&t.jsx("p",{style:{color:"green"},children:f}),s&&t.jsx("p",{style:{color:"red"},children:s}),t.jsx(y,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Submit"})]})});export{O as default};
