import{w as De}from"./with-props-BfByCckp.js";import{r as i,l as p,w as ze,q as M}from"./chunk-XJI4KG32-Dn2FA9HU.js";import{u as U,c as ke}from"./useSlot-BxqUEOdK.js";import{r as _e}from"./index-COvgdrzU.js";import{g as ne,a as oe,p as Ne,c as pe,B as ie}from"./Box-C0Y89kWi.js";import{G as ee}from"./Grid-C3AkUajB.js";import{C as me,a as ge}from"./CardContent-BiGql7bv.js";import{u as re,s as j,c as se,m as je}from"./createSimplePaletteValueFilter-UGedLJK_.js";import{T as Z,t as le}from"./Typography-CQdP_qHB.js";import{I as Re}from"./IconButton-CPaqSQx_.js";import{u as Fe}from"./Paper-BDXAnZUE.js";import{T as He,g as ce}from"./utils-DUyikRhu.js";import{c as $e,B as Ue}from"./Button-DRTweoHF.js";import{u as Be}from"./isFocusVisible-DLsYwwP9.js";import{L as Ge}from"./Link-C99Zo9bM.js";import"./useThemeProps-3IWcn1GQ.js";import"./getThemeProps-BBjFt6Nq.js";import"./isMuiElement-D4pEaFhd.js";import"./assertThisInitialized-BjnbojEp.js";function Ze(t){return ne("MuiCollapse",t)}oe("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const We=t=>{const{orientation:e,classes:n}=t,o={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return se(o,Ze,n)},Je=j("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.orientation],n.state==="entered"&&e.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&e.hidden]}})(je(({theme:t})=>({height:0,overflow:"hidden",transition:t.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:t.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:e})=>e.state==="exited"&&!e.in&&e.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),Ke=j("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),Ve=j("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),te=i.forwardRef(function(e,n){const o=re({props:e,name:"MuiCollapse"}),{addEndListener:r,children:s,className:l,collapsedSize:a="0px",component:u,easing:d,in:f,onEnter:y,onEntered:C,onEntering:h,onExit:c,onExited:m,onExiting:x,orientation:v="vertical",style:w,timeout:L=Ne.standard,TransitionComponent:I=He,...b}=o,S={...o,orientation:v,collapsedSize:a},A=We(S),T=Fe(),O=$e(),E=i.useRef(null),_=i.useRef(),z=typeof a=="number"?`${a}px`:a,R=v==="horizontal",F=R?"width":"height",H=i.useRef(null),Se=Be(n,H),$=g=>P=>{if(g){const D=H.current;P===void 0?g(D):g(D,P)}},X=()=>E.current?E.current[R?"clientWidth":"clientHeight"]:0,Le=$((g,P)=>{E.current&&R&&(E.current.style.position="absolute"),g.style[F]=z,y&&y(g,P)}),Me=$((g,P)=>{const D=X();E.current&&R&&(E.current.style.position="");const{duration:G,easing:K}=ce({style:w,timeout:L,easing:d},{mode:"enter"});if(L==="auto"){const ae=T.transitions.getAutoHeightDuration(D);g.style.transitionDuration=`${ae}ms`,_.current=ae}else g.style.transitionDuration=typeof G=="string"?G:`${G}ms`;g.style[F]=`${D}px`,g.style.transitionTimingFunction=K,h&&h(g,P)}),Ae=$((g,P)=>{g.style[F]="auto",C&&C(g,P)}),Ie=$(g=>{g.style[F]=`${X()}px`,c&&c(g)}),Te=$(m),Oe=$(g=>{const P=X(),{duration:D,easing:G}=ce({style:w,timeout:L,easing:d},{mode:"exit"});if(L==="auto"){const K=T.transitions.getAutoHeightDuration(P);g.style.transitionDuration=`${K}ms`,_.current=K}else g.style.transitionDuration=typeof D=="string"?D:`${D}ms`;g.style[F]=z,g.style.transitionTimingFunction=G,x&&x(g)}),Pe=g=>{L==="auto"&&O.start(_.current||0,g),r&&r(H.current,g)};return p.jsx(I,{in:f,onEnter:Le,onEntered:Ae,onEntering:Me,onExit:Ie,onExited:Te,onExiting:Oe,addEndListener:Pe,nodeRef:H,timeout:L==="auto"?null:L,...b,children:(g,{ownerState:P,...D})=>p.jsx(Je,{as:u,className:pe(A.root,l,{entered:A.entered,exited:!f&&z==="0px"&&A.hidden}[g]),style:{[R?"minWidth":"minHeight"]:z,...w},ref:Se,ownerState:{...S,state:g},...D,children:p.jsx(Ke,{ownerState:{...S,state:g},className:A.wrapper,ref:E,children:p.jsx(Ve,{ownerState:{...S,state:g},className:A.wrapperInner,children:s})})})})});te&&(te.muiSupportAuto=!0);function qe(t){return ne("MuiCardActions",t)}oe("MuiCardActions",["root","spacing"]);const Qe=t=>{const{classes:e,disableSpacing:n}=t;return se({root:["root",!n&&"spacing"]},qe,e)},Ye=j("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,variants:[{props:{disableSpacing:!1},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),Xe=i.forwardRef(function(e,n){const o=re({props:e,name:"MuiCardActions"}),{disableSpacing:r=!1,className:s,...l}=o,a={...o,disableSpacing:r},u=Qe(a);return p.jsx(Ye,{className:pe(u.root,s),ownerState:a,ref:n,...l})});function et(t){return ne("MuiCardHeader",t)}const Y=oe("MuiCardHeader",["root","avatar","action","content","title","subheader"]),tt=t=>{const{classes:e}=t;return se({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},et,e)},nt=j("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(t,e)=>[{[`& .${Y.title}`]:e.title},{[`& .${Y.subheader}`]:e.subheader},e.root]})({display:"flex",alignItems:"center",padding:16}),ot=j("div",{name:"MuiCardHeader",slot:"Avatar"})({display:"flex",flex:"0 0 auto",marginRight:16}),rt=j("div",{name:"MuiCardHeader",slot:"Action"})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),st=j("div",{name:"MuiCardHeader",slot:"Content"})({flex:"1 1 auto",[`.${le.root}:where(& .${Y.title})`]:{display:"block"},[`.${le.root}:where(& .${Y.subheader})`]:{display:"block"}}),he=i.forwardRef(function(e,n){const o=re({props:e,name:"MuiCardHeader"}),{action:r,avatar:s,component:l="div",disableTypography:a=!1,subheader:u,subheaderTypographyProps:d,title:f,titleTypographyProps:y,slots:C={},slotProps:h={},...c}=o,m={...o,component:l,disableTypography:a},x=tt(m),v={slots:C,slotProps:{title:y,subheader:d,...h}};let w=f;const[L,I]=U("title",{className:x.title,elementType:Z,externalForwardedProps:v,ownerState:m,additionalProps:{variant:s?"body2":"h5",component:"span"}});w!=null&&w.type!==Z&&!a&&(w=p.jsx(L,{...I,children:w}));let b=u;const[S,A]=U("subheader",{className:x.subheader,elementType:Z,externalForwardedProps:v,ownerState:m,additionalProps:{variant:s?"body2":"body1",color:"textSecondary",component:"span"}});b!=null&&b.type!==Z&&!a&&(b=p.jsx(S,{...A,children:b}));const[T,O]=U("root",{ref:n,className:x.root,elementType:nt,externalForwardedProps:{...v,...c,component:l},ownerState:m}),[E,_]=U("avatar",{className:x.avatar,elementType:ot,externalForwardedProps:v,ownerState:m}),[z,R]=U("content",{className:x.content,elementType:st,externalForwardedProps:v,ownerState:m}),[F,H]=U("action",{className:x.action,elementType:rt,externalForwardedProps:v,ownerState:m});return p.jsxs(T,{...O,children:[s&&p.jsx(E,{..._,children:s}),p.jsxs(z,{...R,children:[w,b]}),r&&p.jsx(F,{...H,children:r})]})}),at=ke(p.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}));var it=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var o,r,s;if(Array.isArray(e)){if(o=e.length,o!=n.length)return!1;for(r=o;r--!==0;)if(!t(e[r],n[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),o=s.length,o!==Object.keys(n).length)return!1;for(r=o;r--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[r]))return!1;for(r=o;r--!==0;){var l=s[r];if(!t(e[l],n[l]))return!1}return!0}return e!==e&&n!==n};const lt=ze(it);function k(){return k=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)({}).hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},k.apply(null,arguments)}function B(t,e){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.indexOf(o)!==-1)continue;n[o]=t[o]}return n}function ct(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var o=n.call(t,e);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ut(t){var e=ct(t,"string");return typeof e=="symbol"?e:e+""}const N={NOT_LOADED:"NOT_LOADED",LOADING:"LOADING",LOADED:"LOADED",FAILED:"FAILED",AUTH_FAILURE:"AUTH_FAILURE"},dt="https://maps.googleapis.com/maps/api/js";class W{static async load(e,n){var o;const r=e.libraries?e.libraries.split(","):[],s=this.serializeParams(e);this.listeners.push(n),(o=window.google)!=null&&(o=o.maps)!=null&&o.importLibrary?(this.serializedApiParams||(this.loadingStatus=N.LOADED),this.notifyLoadingStatusListeners()):(this.serializedApiParams=s,this.initImportLibrary(e)),this.serializedApiParams&&this.serializedApiParams!==s&&console.warn("[google-maps-api-loader] The maps API has already been loaded with different parameters and will not be loaded again. Refresh the page for new values to have effect.");const l=["maps",...r];await Promise.all(l.map(a=>google.maps.importLibrary(a)))}static serializeParams(e){return[e.v,e.key,e.language,e.region,e.authReferrerPolicy,e.solutionChannel].join("/")}static initImportLibrary(e){if(window.google||(window.google={}),window.google.maps||(window.google.maps={}),window.google.maps.importLibrary){console.error("[google-maps-api-loader-internal]: initImportLibrary must only be called once");return}let n=null;const o=()=>n||(n=new Promise((r,s)=>{var l;const a=document.createElement("script"),u=new URLSearchParams;for(const[d,f]of Object.entries(e)){const y=d.replace(/[A-Z]/g,C=>"_"+C[0].toLowerCase());u.set(y,String(f))}u.set("loading","async"),u.set("callback","__googleMapsCallback__"),a.async=!0,a.src=dt+"?"+u.toString(),a.nonce=((l=document.querySelector("script[nonce]"))==null?void 0:l.nonce)||"",a.onerror=()=>{this.loadingStatus=N.FAILED,this.notifyLoadingStatusListeners(),s(new Error("The Google Maps JavaScript API could not load."))},window.__googleMapsCallback__=()=>{this.loadingStatus=N.LOADED,this.notifyLoadingStatusListeners(),r()},window.gm_authFailure=()=>{this.loadingStatus=N.AUTH_FAILURE,this.notifyLoadingStatusListeners()},this.loadingStatus=N.LOADING,this.notifyLoadingStatusListeners(),document.head.append(a)}),n);google.maps.importLibrary=r=>o().then(()=>google.maps.importLibrary(r))}static notifyLoadingStatusListeners(){for(const e of this.listeners)e(this.loadingStatus)}}W.loadingStatus=N.NOT_LOADED;W.serializedApiParams=void 0;W.listeners=[];const ft=["onLoad","onError","apiKey","version","libraries"],pt=["children"],mt="GMP_visgl_rgmlibrary_v1_default",J=M.createContext(null);function gt(){const[t,e]=i.useState({});return{mapInstances:t,addMapInstance:(s,l="default")=>{e(a=>k({},a,{[l]:s}))},removeMapInstance:(s="default")=>{e(l=>B(l,[s].map(ut)))},clearMapInstances:()=>{e({})}}}function ht(t){const{onLoad:e,onError:n,apiKey:o,version:r,libraries:s=[]}=t,l=B(t,ft),[a,u]=i.useState(W.loadingStatus),[d,f]=i.useReducer((c,m)=>c[m.name]?c:k({},c,{[m.name]:m.value}),{}),y=i.useMemo(()=>s==null?void 0:s.join(","),[s]),C=i.useMemo(()=>JSON.stringify(k({apiKey:o,version:r},l)),[o,r,l]),h=i.useCallback(async c=>{var m;if(d[c])return d[c];if(!((m=google)!=null&&(m=m.maps)!=null&&m.importLibrary))throw new Error("[api-provider-internal] importLibrary was called before google.maps.importLibrary was defined.");const x=await window.google.maps.importLibrary(c);return f({name:c,value:x}),x},[d]);return i.useEffect(()=>{(async()=>{try{const c=k({key:o},l);r&&(c.v=r),(y==null?void 0:y.length)>0&&(c.libraries=y),(c.channel===void 0||c.channel<0||c.channel>999)&&delete c.channel,c.solutionChannel===void 0?c.solutionChannel=mt:c.solutionChannel===""&&delete c.solutionChannel,await W.load(c,m=>u(m));for(const m of["core","maps",...s])await h(m);e&&e()}catch(c){n?n(c):console.error("<ApiProvider> failed to load the Google Maps JavaScript API",c)}})()},[o,y,C]),{status:a,loadedLibraries:d,importLibrary:h}}const vt=t=>{const{children:e}=t,n=B(t,pt),{mapInstances:o,addMapInstance:r,removeMapInstance:s,clearMapInstances:l}=gt(),{status:a,loadedLibraries:u,importLibrary:d}=ht(n),f=i.useMemo(()=>({mapInstances:o,addMapInstance:r,removeMapInstance:s,clearMapInstances:l,status:a,loadedLibraries:u,importLibrary:d}),[o,r,s,l,a,u,d]);return M.createElement(J.Provider,{value:f},e)};function yt(t,e){for(const n of bt){const o=e[n],r=ve[n];i.useEffect(()=>{if(!t||!o)return;const s=google.maps.event.addListener(t,r,l=>{o(Ct(r,t,l))});return()=>s.remove()},[t,r,o])}}function Ct(t,e,n){const o={type:t,map:e,detail:{},stoppable:!1,stop:()=>{}};if(Et.includes(t)){const s=o,l=e.getCenter(),a=e.getZoom(),u=e.getHeading()||0,d=e.getTilt()||0,f=e.getBounds();return(!l||!f||!Number.isFinite(a))&&console.warn("[createEvent] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),s.detail={center:(l==null?void 0:l.toJSON())||{lat:0,lng:0},zoom:a||0,heading:u,tilt:d,bounds:(f==null?void 0:f.toJSON())||{north:90,east:180,south:-90,west:-180}},s}else if(xt.includes(t)){var r;if(!n)throw new Error("[createEvent] mouse events must provide a srcEvent");const s=o;return s.domEvent=n.domEvent,s.stoppable=!0,s.stop=()=>n.stop(),s.detail={latLng:((r=n.latLng)==null?void 0:r.toJSON())||null,placeId:n.placeId},s}return o}const ve={onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onContextmenu:"contextmenu",onDblclick:"dblclick",onDrag:"drag",onDragend:"dragend",onDragstart:"dragstart",onHeadingChanged:"heading_changed",onIdle:"idle",onIsFractionalZoomEnabledChanged:"isfractionalzoomenabled_changed",onMapCapabilitiesChanged:"mapcapabilities_changed",onMapTypeIdChanged:"maptypeid_changed",onMousemove:"mousemove",onMouseout:"mouseout",onMouseover:"mouseover",onProjectionChanged:"projection_changed",onRenderingTypeChanged:"renderingtype_changed",onTilesLoaded:"tilesloaded",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed",onCameraChanged:"bounds_changed"},Et=["bounds_changed","center_changed","heading_changed","tilt_changed","zoom_changed"],xt=["click","contextmenu","dblclick","mousemove","mouseout","mouseover"],bt=Object.keys(ve);function wt(t,e){const n=i.useRef(t);return e(t,n.current)||(n.current=t),n.current}function St(t,e,n){i.useEffect(t,[wt(e,n)])}function Lt(t,e){St(t,e,lt)}const Mt=new Set(["backgroundColor","clickableIcons","controlSize","disableDefaultUI","disableDoubleClickZoom","draggable","draggableCursor","draggingCursor","fullscreenControl","fullscreenControlOptions","gestureHandling","headingInteractionEnabled","isFractionalZoomEnabled","keyboardShortcuts","mapTypeControl","mapTypeControlOptions","mapTypeId","maxZoom","minZoom","noClear","panControl","panControlOptions","restriction","rotateControl","rotateControlOptions","scaleControl","scaleControlOptions","scrollwheel","streetView","streetViewControl","streetViewControlOptions","styles","tiltInteractionEnabled","zoomControl","zoomControlOptions"]);function At(t,e){const n={},o=Object.keys(e);for(const r of o)Mt.has(r)&&(n[r]=e[r]);Lt(()=>{t&&t.setOptions(n)},[n])}function ye(){var t;return((t=i.useContext(J))==null?void 0:t.status)||N.NOT_LOADED}function It(t,e){const{viewport:n,viewState:o}=e,r=!!n;return i.useLayoutEffect(()=>{if(!t||!o)return;const{latitude:s,longitude:l,bearing:a,pitch:u,zoom:d}=o;t.moveCamera({center:{lat:s,lng:l},heading:a,tilt:u,zoom:d+1})},[t,o]),r}function Tt(t){return!t||typeof t!="object"||!("lat"in t&&"lng"in t)?!1:Number.isFinite(t.lat)&&Number.isFinite(t.lng)}function Ce(t){return Tt(t)?t:t.toJSON()}function Ot(t,e,n){const o=n.center?Ce(n.center):null;let r=null,s=null;o&&Number.isFinite(o.lat)&&Number.isFinite(o.lng)&&(r=o.lat,s=o.lng);const l=Number.isFinite(n.zoom)?n.zoom:null,a=Number.isFinite(n.heading)?n.heading:null,u=Number.isFinite(n.tilt)?n.tilt:null;i.useLayoutEffect(()=>{if(!t)return;const d={};let f=!1;r!==null&&s!==null&&(e.current.center.lat!==r||e.current.center.lng!==s)&&(d.center={lat:r,lng:s},f=!0),l!==null&&e.current.zoom!==l&&(d.zoom=l,f=!0),a!==null&&e.current.heading!==a&&(d.heading=a,f=!0),u!==null&&e.current.tilt!==u&&(d.tilt=u,f=!0),f&&t.moveCamera(d)})}const Pt=()=>{const t={position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:999,display:"flex",flexFlow:"column nowrap",textAlign:"center",justifyContent:"center",fontSize:".8rem",color:"rgba(0,0,0,0.6)",background:"#dddddd",padding:"1rem 1.5rem"};return M.createElement("div",{style:t},M.createElement("h2",null,"Error: AuthFailure"),M.createElement("p",null,"A problem with your API key prevents the map from rendering correctly. Please make sure the value of the ",M.createElement("code",null,"APIProvider.apiKey")," prop is correct. Check the error-message in the console for further details."))};function Dt(){const[t,e]=i.useState(null),n=i.useCallback(o=>e(o),[e]);return[t,n]}function Ee(){return ye()===N.LOADED}function zt(){const[,t]=i.useReducer(e=>e+1,0);return t}function kt(t,e){const n=t.getCenter(),o=t.getZoom(),r=t.getHeading()||0,s=t.getTilt()||0,l=t.getBounds();(!n||!l||!Number.isFinite(o))&&console.warn("[useTrackedCameraState] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),Object.assign(e.current,{center:(n==null?void 0:n.toJSON())||{lat:0,lng:0},zoom:o||0,heading:r,tilt:s})}function _t(t){const e=zt(),n=i.useRef({center:{lat:0,lng:0},heading:0,tilt:0,zoom:0});return i.useEffect(()=>{if(!t)return;const o=google.maps.event.addListener(t,"bounds_changed",()=>{kt(t,n),e()});return()=>o.remove()},[t,e]),n}const Nt=["id","defaultBounds","defaultCenter","defaultZoom","defaultHeading","defaultTilt","reuseMaps","renderingType","colorScheme"],jt=["padding"];class Q{static has(e){return this.entries[e]&&this.entries[e].length>0}static pop(e){return this.entries[e]&&this.entries[e].pop()||null}static push(e,n){this.entries[e]||(this.entries[e]=[]),this.entries[e].push(n)}}Q.entries={};function Rt(t,e){const n=Ee(),[o,r]=i.useState(null),[s,l]=Dt(),a=_t(o),{id:u,defaultBounds:d,defaultCenter:f,defaultZoom:y,defaultHeading:C,defaultTilt:h,reuseMaps:c,renderingType:m,colorScheme:x}=t,v=B(t,Nt),w=t.zoom!==void 0||t.defaultZoom!==void 0,L=t.center!==void 0||t.defaultCenter!==void 0;!d&&(!w||!L)&&console.warn("<Map> component is missing configuration. You have to provide zoom and center (via the `zoom`/`defaultZoom` and `center`/`defaultCenter` props) or specify the region to show using `defaultBounds`. See https://visgl.github.io/react-google-maps/docs/api-reference/components/map#required"),!v.center&&f&&(v.center=f),!v.zoom&&Number.isFinite(y)&&(v.zoom=y),!v.heading&&Number.isFinite(C)&&(v.heading=C),!v.tilt&&Number.isFinite(h)&&(v.tilt=h);for(const b of Object.keys(v))v[b]===void 0&&delete v[b];const I=i.useRef(void 0);return i.useEffect(()=>{if(!s||!n)return;const{addMapInstance:b,removeMapInstance:S}=e,{mapId:A}=t,T=`${A||"default"}:${m||"default"}:${x||"LIGHT"}`;let O,E;if(c&&Q.has(T)?(E=Q.pop(T),O=E.getDiv(),s.appendChild(O),E.setOptions(v),setTimeout(()=>E.setCenter(E.getCenter()),0)):(O=document.createElement("div"),O.style.height="100%",s.appendChild(O),E=new google.maps.Map(O,k({},v,m?{renderingType:m}:{},x?{colorScheme:x}:{}))),r(E),b(E,u),d){const{padding:_}=d,z=B(d,jt);E.fitBounds(z,_)}else(!w||!L)&&E.fitBounds({east:180,west:-180,south:-90,north:90});if(I.current){const{mapId:_,cameraState:z}=I.current;_!==A&&E.setOptions(z)}return()=>{I.current={mapId:A,cameraState:a.current},O.remove(),c?Q.push(T,E):google.maps.event.clearInstanceListeners(E),r(null),S(u)}},[s,n,u,t.mapId,t.renderingType,t.colorScheme]),[o,l,a]}const xe=M.createContext(null),be=t=>{const{children:e,id:n,className:o,style:r}=t,s=i.useContext(J),l=ye();if(!s)throw new Error("<Map> can only be used inside an <ApiProvider> component.");const[a,u,d]=Rt(t,s);Ot(a,d,t),yt(a,t),At(a,t);const f=It(a,t),y=!!t.controlled;i.useEffect(()=>{if(a)return f&&a.setOptions({disableDefaultUI:!0}),(f||y)&&a.setOptions({gestureHandling:"none",keyboardShortcuts:!1}),()=>{a.setOptions({gestureHandling:t.gestureHandling,keyboardShortcuts:t.keyboardShortcuts})}},[a,f,y,t.gestureHandling,t.keyboardShortcuts]);const C=t.center?Ce(t.center):null;let h=null,c=null;C&&Number.isFinite(C.lat)&&Number.isFinite(C.lng)&&(h=C.lat,c=C.lng);const m=i.useMemo(()=>{var w,L,I,b,S;return{center:{lat:(w=h)!=null?w:0,lng:(L=c)!=null?L:0},zoom:(I=t.zoom)!=null?I:0,heading:(b=t.heading)!=null?b:0,tilt:(S=t.tilt)!=null?S:0}},[h,c,t.zoom,t.heading,t.tilt]);i.useLayoutEffect(()=>{if(!a||!y)return;a.moveCamera(m);const w=a.addListener("bounds_changed",()=>{a.moveCamera(m)});return()=>w.remove()},[a,y,m]);const x=i.useMemo(()=>k({width:"100%",height:"100%",position:"relative",zIndex:f?-1:0},r),[r,f]),v=i.useMemo(()=>({map:a}),[a]);return l===N.AUTH_FAILURE?M.createElement("div",{style:k({position:"relative"},o?{}:x),className:o},M.createElement(Pt,null)):M.createElement("div",k({ref:u,"data-testid":"map",style:o?void 0:x,className:o},n?{id:n}:{}),a?M.createElement(xe.Provider,{value:v},e):null)};be.deckGLViewProps=!0;const ue=new Set;function Ft(...t){const e=JSON.stringify(t);ue.has(e)||(ue.add(e),console.error(...t))}const we=(t=null)=>{const e=i.useContext(J),{map:n}=i.useContext(xe)||{};if(e===null)return Ft("useMap(): failed to retrieve APIProviderContext. Make sure that the <APIProvider> component exists and that the component you are calling `useMap()` from is a sibling of the <APIProvider>."),null;const{mapInstances:o}=e;return t!==null?o[t]||null:n||o.default||null};function Ht(t){const e=Ee(),n=i.useContext(J);return i.useEffect(()=>{!e||!n||n.importLibrary(t)},[e,n,t]),(n==null?void 0:n.loadedLibraries[t])||null}function V(t,e,n){i.useEffect(()=>{if(!t||!e||!n)return;const o=google.maps.event.addListener(t,e,n);return()=>o.remove()},[t,e,n])}function q(t,e,n){i.useEffect(()=>{t&&(t[e]=n)},[t,e,n])}function de(t,e,n){i.useEffect(()=>{if(!(!t||!e||!n))return t.addEventListener(e,n),()=>t.removeEventListener(e,n)},[t,e,n])}function fe(t){return t.nodeType===Node.ELEMENT_NODE}const $t=M.createContext(null),Ut={BOTTOM:["50%","100%"]},Bt=({children:t,styles:e,className:n,anchorPoint:o})=>{const[r,s]=o??Ut.BOTTOM;let l=`-${r}`,a=`-${s}`;r.trimStart().startsWith("-")&&(l=r.substring(1)),s.trimStart().startsWith("-")&&(a=s.substring(1));const u=`translate(50%, 100%) translate(${l}, ${a})`;return M.createElement("div",{style:{transform:u}},M.createElement("div",{className:n,style:e},t))};function Gt(t){const[e,n]=i.useState(null),[o,r]=i.useState(null),s=we(),l=Ht("marker"),{children:a,onClick:u,className:d,onMouseEnter:f,onMouseLeave:y,onDrag:C,onDragStart:h,onDragEnd:c,collisionBehavior:m,clickable:x,draggable:v,position:w,title:L,zIndex:I}=t,b=i.Children.count(a);return i.useEffect(()=>{if(!s||!l)return;const S=new l.AdvancedMarkerElement;S.map=s,n(S);let A=null;return b>0&&(A=document.createElement("div"),A.isCustomMarker=!0,S.content=A,r(A)),()=>{var T;S.map=null,(T=A)==null||T.remove(),n(null),r(null)}},[s,l,b]),i.useEffect(()=>{!(e!=null&&e.content)||!fe(e.content)||b>0||(e.content.className=d??"")},[e,d,b]),q(e,"position",w),q(e,"title",L??""),q(e,"zIndex",I),q(e,"collisionBehavior",m),i.useEffect(()=>{e&&(v!==void 0?e.gmpDraggable=v:C||h||c?e.gmpDraggable=!0:e.gmpDraggable=!1)},[e,v,C,c,h]),i.useEffect(()=>{if(!e)return;const S=x!==void 0||!!u||!!f||!!y;e.gmpClickable=S,S&&e!=null&&e.content&&fe(e.content)&&(e.content.style.pointerEvents="none",e.content.firstElementChild&&(e.content.firstElementChild.style.pointerEvents="all"))},[e,x,u,f,y]),V(e,"click",u),V(e,"drag",C),V(e,"dragstart",h),V(e,"dragend",c),de(e==null?void 0:e.element,"mouseenter",f),de(e==null?void 0:e.element,"mouseleave",y),[e,o]}i.forwardRef((t,e)=>{const{children:n,style:o,className:r,anchorPoint:s}=t,[l,a]=Gt(t),u=i.useMemo(()=>l?{marker:l}:null,[l]);return i.useImperativeHandle(e,()=>l,[l]),a?M.createElement($t.Provider,{value:u},_e.createPortal(M.createElement(Bt,{anchorPoint:s,styles:o,className:r},n),a)):null});const Zt=["onClick","onDrag","onDragStart","onDragEnd","onMouseOver","onMouseOut"];function Wt(t){const[e,n]=i.useState(null),o=we(),{onClick:r,onDrag:s,onDragStart:l,onDragEnd:a,onMouseOver:u,onMouseOut:d}=t,f=B(t,Zt),{position:y,draggable:C}=f;return i.useEffect(()=>{if(!o){o===void 0&&console.error("<Marker> has to be inside a Map component.");return}const h=new google.maps.Marker(f);return h.setMap(o),n(h),()=>{h.setMap(null),n(null)}},[o]),i.useEffect(()=>{if(!e)return;const h=e,c=google.maps.event;return r&&c.addListener(h,"click",r),s&&c.addListener(h,"drag",s),l&&c.addListener(h,"dragstart",l),a&&c.addListener(h,"dragend",a),u&&c.addListener(h,"mouseover",u),d&&c.addListener(h,"mouseout",d),e.setDraggable(!!C),()=>{c.clearInstanceListeners(h)}},[e,C,r,s,l,a,u,d]),i.useEffect(()=>{e&&f&&e.setOptions(f)},[e,f]),i.useEffect(()=>{C||!y||!e||e.setPosition(y)},[C,y,e]),e}const Jt=i.forwardRef((t,e)=>{const n=Wt(t);return i.useImperativeHandle(e,()=>n,[n]),M.createElement(M.Fragment,null)});function Kt({title:t,sentance:e,button:n,expandable:o=!1}){const[r,s]=i.useState(!1);return p.jsxs(me,{sx:{minWidth:275,height:"100%"},children:[p.jsx(he,{title:t,align:"center",action:o&&p.jsx(Re,{onClick:()=>s(!r),"aria-expanded":r,children:p.jsx(at,{})})}),p.jsxs(te,{in:!o||r,timeout:"auto",unmountOnExit:!0,children:[p.jsx(ge,{children:p.jsx(Z,{variant:"body2",children:p.jsx("div",{dangerouslySetInnerHTML:{__html:e}})})}),n&&p.jsx(Xe,{children:p.jsx(Ue,{size:"small",children:p.jsx(Ge,{href:n.link,color:"inherit",underline:"hover",children:n.name})})})]})]})}const gn=De(function(){const[e,n]=i.useState([]);return i.useEffect(()=>{(async()=>{try{const s=await(await fetch("/api/get/page?name=i-am-new",{method:"GET",headers:{"Content-Type":"application/json"}})).json();n(s)}catch(r){console.error("Error fetching about-us data:",r)}})()},[]),p.jsx(ie,{sx:{minHeight:"50vh",display:"flex",alignItems:"center",justifyContent:"center",px:2},children:p.jsxs(ee,{container:!0,spacing:2,maxWidth:"md",justifyContent:"center",children:[e.map((o,r)=>p.jsx(ee,{size:{xs:12,sm:10,md:8},children:p.jsx(Kt,{title:o.title,sentance:o.text,button:o.button,expandable:!0})},r)),p.jsx(ee,{size:{xs:12,sm:10,md:8},mx:"auto",children:p.jsxs(me,{children:[p.jsx(he,{title:"Our Location on the Map",align:"center"}),p.jsx(ge,{children:p.jsx(ie,{sx:{width:"100%",height:"400px"},children:p.jsx(vt,{apiKey:"AIzaSyCYjUVh-dDvvvQQRAuGdlzG-uUvzrUBKJw",onLoad:()=>console.log("Maps API has loaded."),children:p.jsx(be,{defaultZoom:13,defaultCenter:{lat:46.90525,lng:-96.79276},onCameraChanged:o=>console.log("camera changed:",o.detail.center,"zoom:",o.detail.zoom),children:p.jsx(Jt,{position:{lat:46.90525,lng:-96.79276}})})})})})]})})]})})});export{gn as default};
